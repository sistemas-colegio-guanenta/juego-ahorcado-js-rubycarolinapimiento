<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>CANVAS Animación 05</title>
<style>
#miCanvas{
	border:dotted 2px yellow;
	background:green;	
}
</style>
<script>
var ctx;
var canvas;
var radio = 10;
var bolax = 50;
var bolay = 250;
var ancho;
var alto;
var limiteDerecha;
var limiteIzquierda;
var limiteArriba;
var limiteAbajo;
var dx = 4;
var dy = 4;
			
window.onload = function(){
	canvas = document.getElementById("miCanvas");
	if(canvas && canvas.getContext){
		ctx = canvas.getContext("2d");
		if(ctx){
			ancho = canvas.width;
			alto = canvas.height;
			limiteDerecha = ancho - radio;
			limiteIzquierda = radio;
			limiteArriba = alto - radio;
			limiteAbajo = radio;
			//
			ctx.lineWidth = radio;
			ctx.fillStyle = "rgb(200,0,50)";
			mueve();
			setInterval(mueve,60);
		} else {
			alert("Error al crear tu contexto");	
		}
	}
}
function mueve(){
	ctx.clearRect(0, 0, ancho, alto);
	verifica();
	ctx.beginPath();
	ctx.arc(bolax, bolay, radio, 0, Math.PI*2,true);
	ctx.fill();
}	
function verifica(){
	var nbolax = bolax + dx;
	var nbolay = bolay + dy;
	
	if(nbolax > limiteDerecha){
		dx *= -1;
		nbolax = limiteDerecha;	
	}
	
	if(nbolax < limiteIzquierda){
		nbolax = limiteIzquierda;
		dx *= -1;
	}
	
	if(nbolay > limiteArriba){
		nbolay = limiteArriba;
		dy *= -1;	
	}
	
	if(nbolay < limiteAbajo){
		nbolay = limiteAbajo;
		dy *= -1;		
	}
	
	bolax = nbolax;
	bolay = nbolay;
}
</script>
</head>

<body>
<h1>CANVAS Animación</h1>
<canvas id="miCanvas" width="500px" height="300px">
Tu navegador no soporta CANVAS
</canvas>
</body>
</html>